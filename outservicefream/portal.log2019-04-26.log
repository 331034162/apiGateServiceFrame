2019-04-26 20:24:32,360 main INFO  [PackProcessEngine:51] ca952727-589c-46d5-a55d-b8d5a819366c----ESB XML报文是：﻿<?xml version="1.0" encoding="UTF-8"?><service>	<sys-header>		<data name="SYS_HEAD">			<struct>				<data name="COMPANY">					<field type="string" length="4">BODC</field>				</data>				<data name="CONSUMER_BUSI_NO">					<field type="string" length="14">10112323435556</field>				</data>				<data name="CONSUMER_ID">					<field type="string" length="3">143</field>				</data>				<data name="EC_NO">					<field type="string" length="6">100430</field>				</data>				<data name="MESSAGE_CODE">					<field type="string" length="4">0020</field>				</data>				<data name="MESSAGE_TYPE">					<field type="string" length="4">1400</field>				</data>				<data name="REFERENCE">					<field type="string" length="16">1904190000003247</field>				</data>				<data name="SEQ_NO">					<field type="string" length="17">39385991538409472</field>				</data>				<data name="SERVICE_CODE">					<field type="string" length="11">MBSD_IFP_TP</field>				</data>				<data name="SOURCE_TYPE">					<field type="string" length="2">43</field>				</data>				<data name="THIRD_ID">					<field type="string" length="32">7b581155a0664bbab9c53d307f9ec847					</field>				</data>				<data name="TRAN_CODE">					<field type="string" length="8">88888888</field>				</data>				<data name="TRAN_DATE">					<field type="string" length="8">20190419</field>				</data>				<data name="TRAN_TIMESTAMP">					<field type="string" length="9">162552139</field>				</data>				<data name="RET_STATUS">					<field type="string" length="1">S</field>				</data>				<data name="RET">					<array>						<struct>							<data name="RET_CODE">								<field type="string" length="6">000000</field>							</data>							<data name="RET_MSG">								<field type="string" length="7">SUCCESS</field>							</data>						</struct>					</array>				</data>			</struct>		</data>	</sys-header>	<app-header>		<data name="APP_HEAD">			<struct>				<data name="CURRENT_NUM">					<field type="string" length="1">0</field>				</data>				<data name="PGUP_OR_PGDN">					<field type="string" length="1">1</field>				</data>				<data name="TOTAL_FLAG">					<field type="string" length="1">E</field>				</data>				<data name="TOTAL_NUM">					<field type="string" length="2">-1</field>				</data>			</struct>		</data>	</app-header>	<local-header />	<body>		<data name="LIST_DETAIL">			<array>				<struct>					<data name="BANK_ID">						<field type="string" length="12">2013-09-10</field>					</data>					<data name="BANK_NAME">						<field type="string" length="6">中国农业银行</field>					</data>					<data name="CARD_DAY_LIMIT">						<field type="double" length="128">999999.0</field>					</data>					<data name="CARD_TYPE">						<field type="string" length="2">01</field>					</data>					<data name="LIMIT">						<field type="double" length="128">9999.0</field>					</data>				</struct>				<struct>					<data name="BANK_ID">						<field type="string" length="12">104100000004</field>					</data>					<data name="BANK_NAME">						<field type="string" length="4">中国银行</field>					</data>					<data name="CARD_DAY_LIMIT">						<field type="double" length="128">999999.0</field>					</data>					<data name="CARD_TYPE">						<field type="string" length="2">01</field>					</data>					<data name="LIMIT">						<field type="double" length="128">9999.0</field>					</data>				</struct>				<struct>					<data name="BANK_ID">						<field type="string" length="12">102100099996</field>					</data>					<data name="BANK_NAME">						<field type="string" length="6">中国工商银行</field>					</data>					<data name="CARD_DAY_LIMIT">						<field type="double" length="128">999999.0</field>					</data>					<data name="CARD_TYPE">						<field type="string" length="2">01</field>					</data>					<data name="LIMIT">						<field type="double" length="128">9999.0</field>					</data>				</struct>				<struct>					<data name="BANK_ID">						<field type="string" length="12">105100000017</field>					</data>					<data name="BANK_NAME">						<field type="string" length="6">中国建设银行</field>					</data>					<data name="CARD_DAY_LIMIT">						<field type="double" length="128">999999.0</field>					</data>					<data name="CARD_TYPE">						<field type="string" length="2">01</field>					</data>					<data name="LIMIT">						<field type="double" length="128">9999.0</field>					</data>				</struct>				<struct>					<data name="BANK_ID">						<field type="string" length="12">308584000013</field>					</data>					<data name="BANK_NAME">						<field type="string" length="4">招商银行</field>					</data>					<data name="CARD_DAY_LIMIT">						<field type="double" length="128">999999.0</field>					</data>					<data name="CARD_TYPE">						<field type="string" length="2">01</field>					</data>					<data name="LIMIT">						<field type="double" length="128">9999.0</field>					</data>				</struct>			</array>		</data>		<data name="STATUS">			<field type="string" length="1">S</field>		</data>	</body></service>，渠道名称是：test
2019-04-26 20:24:32,362 main INFO  [PackProcessEngine:54] ca952727-589c-46d5-a55d-b8d5a819366c----ESB转成Json的模板是：test_service_req
2019-04-26 20:24:32,362 main INFO  [PackProcessEngine:57] ca952727-589c-46d5-a55d-b8d5a819366c----JSON转成ESB XML的模板是：test_service_resp
2019-04-26 20:24:32,420 main INFO  [PackProcessEngine:61] ca952727-589c-46d5-a55d-b8d5a819366c----ESB XML转换成map之后的结果是：{sys-header={SYS_HEAD={RET=[{RET_CODE=000000, RET_MSG=SUCCESS}], SERVICE_CODE=MBSD_IFP_TP, MESSAGE_TYPE=1400, THIRD_ID=7b581155a0664bbab9c53d307f9ec847					, TRAN_TIMESTAMP=162552139, CONSUMER_ID=143, EC_NO=100430, COMPANY=BODC, SEQ_NO=39385991538409472, SOURCE_TYPE=43, CONSUMER_BUSI_NO=10112323435556, MESSAGE_CODE=0020, REFERENCE=1904190000003247, RET_STATUS=S, TRAN_DATE=20190419, TRAN_CODE=88888888}}, app-header={APP_HEAD={TOTAL_NUM=-1, TOTAL_FLAG=E, CURRENT_NUM=0, PGUP_OR_PGDN=1}}, body={STATUS=S, LIST_DETAIL=[{CARD_DAY_LIMIT=999999.0, CARD_TYPE=01, BANK_ID=2013-09-10, LIMIT=9999.0, BANK_NAME=中国农业银行}, {CARD_DAY_LIMIT=999999.0, CARD_TYPE=01, BANK_ID=104100000004, LIMIT=9999.0, BANK_NAME=中国银行}, {CARD_DAY_LIMIT=999999.0, CARD_TYPE=01, BANK_ID=102100099996, LIMIT=9999.0, BANK_NAME=中国工商银行}, {CARD_DAY_LIMIT=999999.0, CARD_TYPE=01, BANK_ID=105100000017, LIMIT=9999.0, BANK_NAME=中国建设银行}, {CARD_DAY_LIMIT=999999.0, CARD_TYPE=01, BANK_ID=308584000013, LIMIT=9999.0, BANK_NAME=招商银行}]}}
2019-04-26 20:24:32,492 main INFO  [PackProcessEngine:65] ca952727-589c-46d5-a55d-b8d5a819366c----map转换成json之后的结果是：{"data":{"limit":9999,"listDetail":[{"BANK_ID":"2013-09-10","BANK_NAME":"中国农业银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"104100000004","BANK_NAME":"中国银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"102100099996","BANK_NAME":"中国工商银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"105100000017","BANK_NAME":"中国建设银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"308584000013","BANK_NAME":"招商银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"}],"retMsg":"BODC","tranDate":20190419},"retCode":"000000"}
2019-04-26 20:24:32,493 main INFO  [PackProcessEngine:72] ca952727-589c-46d5-a55d-b8d5a819366c----加密之后的结果是：{"data":{"limit":9999,"listDetail":[{"BANK_ID":"2013-09-10","BANK_NAME":"中国农业银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"104100000004","BANK_NAME":"中国银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"102100099996","BANK_NAME":"中国工商银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"105100000017","BANK_NAME":"中国建设银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"308584000013","BANK_NAME":"招商银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"}],"retMsg":"BODC","tranDate":20190419},"retCode":"000000"}
2019-04-26 20:24:32,495 main INFO  [PackProcessEngine:75] ca952727-589c-46d5-a55d-b8d5a819366c----发送请求到到null请求参数是:{data={"data":{"limit":9999,"listDetail":[{"BANK_ID":"2013-09-10","BANK_NAME":"中国农业银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"104100000004","BANK_NAME":"中国银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"102100099996","BANK_NAME":"中国工商银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"105100000017","BANK_NAME":"中国建设银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"308584000013","BANK_NAME":"招商银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"}],"retMsg":"BODC","tranDate":20190419},"retCode":"000000"}, aeskey=@#$%@#$%$@#%}
2019-04-26 20:24:32,495 main INFO  [PackProcessEngine:77] ca952727-589c-46d5-a55d-b8d5a819366c----得到的响应是:{"data":{"limit":9999,"listDetail":[{"BANK_ID":"2013-09-10","BANK_NAME":"中国农业银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"104100000004","BANK_NAME":"中国银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"102100099996","BANK_NAME":"中国工商银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"105100000017","BANK_NAME":"中国建设银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"308584000013","BANK_NAME":"招商银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"}],"retMsg":"BODC","tranDate":20190419},"retCode":"000000"}
2019-04-26 20:24:32,495 main INFO  [PackProcessEngine:80] ca952727-589c-46d5-a55d-b8d5a819366c----解密后的结果是:{"data":{"limit":9999,"listDetail":[{"BANK_ID":"2013-09-10","BANK_NAME":"中国农业银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"104100000004","BANK_NAME":"中国银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"102100099996","BANK_NAME":"中国工商银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"105100000017","BANK_NAME":"中国建设银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"308584000013","BANK_NAME":"招商银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"}],"retMsg":"BODC","tranDate":20190419},"retCode":"000000"}
2019-04-26 20:24:32,522 main INFO  [PackProcessEngine:85] ca952727-589c-46d5-a55d-b8d5a819366c----转换成ESB XML的模型数据是:{model={"data":{"limit":9999,"listDetail":[{"BANK_ID":"2013-09-10","BANK_NAME":"中国农业银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"104100000004","BANK_NAME":"中国银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"102100099996","BANK_NAME":"中国工商银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"105100000017","BANK_NAME":"中国建设银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"},{"BANK_ID":"308584000013","BANK_NAME":"招商银行","CARD_DAY_LIMIT":"999999.0","CARD_TYPE":"01","LIMIT":"9999.0"}],"retMsg":"BODC","tranDate":20190419},"retCode":"000000"}}
2019-04-26 20:24:32,676 main INFO  [PackProcessEngine:88] ca952727-589c-46d5-a55d-b8d5a819366c----响应ESB XML报文是：<?xml version="1.0" encoding="UTF-8"?>
<!--
{
"model": {
"retCode": "000000",
"retMsg": "SUCCESS",
"data": {
"limit": "9999.0",
"tranDate": "20190419",
"listDetail": [{
"totalNum": "-1",
"bankName": "中国农业银行",
"bankId": "103100000026"
}, {
"totalNum": "-1",
"bankName": "中国银行",
"bankId": "104100000004"
}, {
"totalNum": "-1",
"bankName": "中国工商银行",
"bankId": "102100099996"
}, {
"totalNum": "-1",
"bankName": "中国建设银行",
"bankId": "105100000017"
}, {
"totalNum": "-1",
"bankName": "招商银行",
"bankId": "308584000013"
}]
}
}
}
-->
<service>
<sys-header>
<data name="SYS_HEAD">
<struct>
<data name="COMPANY">
<field type="string" length="4">BODC</field>
</data>
<data name="CONSUMER_BUSI_NO">
<field type="string" length="14">10112323435556</field>
</data>
<data name="CONSUMER_ID">
<field type="string" length="3">143</field>
</data>
<data name="EC_NO">
<field type="string" length="6">100430</field>
</data>
<data name="MESSAGE_CODE">
<field type="string" length="4">0020</field>
</data>
<data name="MESSAGE_TYPE">
<field type="string" length="4">1400</field>
</data>
<data name="REFERENCE">
<field type="string" length="16">1904190000003247</field>
</data>
<data name="SEQ_NO">
<field type="string" length="17">39385991538409472</field>
</data>
<data name="SERVICE_CODE">
<field type="string" length="11">MBSD_IFP_TP</field>
</data>
<data name="SOURCE_TYPE">
<field type="string" length="2">43</field>
</data>
<data name="THIRD_ID">
<field type="string" length="32">7b581155a0664bbab9c53d307f9ec847
</field>
</data>
<data name="TRAN_CODE">
<field type="string" length="8">88888888</field>
</data>
<data name="TRAN_DATE">
<field type="string" length="8">20190419</field>
</data>
<data name="TRAN_TIMESTAMP">
<field type="string" length="9">162552139</field>
</data>
<data name="RET_STATUS">
<field type="string" length="1">S</field>
</data>
<data name="RET">
<array>
<data name="RET_CODE">
<field type="string" length="6">000000</field>
</data>
<data name="RET_MSG">
<field type="string" length="7"></field>
</data>
</array>
</data>
</struct>
</data>
</sys-header>
<app-header>
<data name="APP_HEAD">
<struct>
<data name="CURRENT_NUM">
<field type="string" length="1">0</field>
</data>
<data name="PGUP_OR_PGDN">
<field type="string" length="1">1</field>
</data>
<data name="TOTAL_FLAG">
<field type="string" length="1">E</field>
</data>
<data name="TOTAL_NUM">
<field type="string" length="2">
-1
</field>
</data>
</struct>
</data>
</app-header>
<local-header />
<body>
<data name="LIST_DETAIL">
<array>
<struct>
<data name="BANK_ID">
<field type="string" length="12"></field>
</data>
<data name="BANK_NAME">
<field type="string" length="6"></field>
</data>
<data name="CARD_DAY_LIMIT">
<field type="double" length="128">999999.0</field>
</data>
<data name="CARD_TYPE">
<field type="string" length="2">01</field>
</data>
<data name="LIMIT">
<!-- 如果mode中的数据是数字类型，为避免数据超过四位之后自动用逗号分隔就采用 加?c的的方式-->
<field type="double" length="128">9999</field>
</data>
</struct>
<struct>
<data name="BANK_ID">
<field type="string" length="12"></field>
</data>
<data name="BANK_NAME">
<field type="string" length="6"></field>
</data>
<data name="CARD_DAY_LIMIT">
<field type="double" length="128">999999.0</field>
</data>
<data name="CARD_TYPE">
<field type="string" length="2">01</field>
</data>
<data name="LIMIT">
<!-- 如果mode中的数据是数字类型，为避免数据超过四位之后自动用逗号分隔就采用 加?c的的方式-->
<field type="double" length="128">9999</field>
</data>
</struct>
<struct>
<data name="BANK_ID">
<field type="string" length="12"></field>
</data>
<data name="BANK_NAME">
<field type="string" length="6"></field>
</data>
<data name="CARD_DAY_LIMIT">
<field type="double" length="128">999999.0</field>
</data>
<data name="CARD_TYPE">
<field type="string" length="2">01</field>
</data>
<data name="LIMIT">
<!-- 如果mode中的数据是数字类型，为避免数据超过四位之后自动用逗号分隔就采用 加?c的的方式-->
<field type="double" length="128">9999</field>
</data>
</struct>
<struct>
<data name="BANK_ID">
<field type="string" length="12"></field>
</data>
<data name="BANK_NAME">
<field type="string" length="6"></field>
</data>
<data name="CARD_DAY_LIMIT">
<field type="double" length="128">999999.0</field>
</data>
<data name="CARD_TYPE">
<field type="string" length="2">01</field>
</data>
<data name="LIMIT">
<!-- 如果mode中的数据是数字类型，为避免数据超过四位之后自动用逗号分隔就采用 加?c的的方式-->
<field type="double" length="128">9999</field>
</data>
</struct>
<struct>
<data name="BANK_ID">
<field type="string" length="12"></field>
</data>
<data name="BANK_NAME">
<field type="string" length="6"></field>
</data>
<data name="CARD_DAY_LIMIT">
<field type="double" length="128">999999.0</field>
</data>
<data name="CARD_TYPE">
<field type="string" length="2">01</field>
</data>
<data name="LIMIT">
<!-- 如果mode中的数据是数字类型，为避免数据超过四位之后自动用逗号分隔就采用 加?c的的方式-->
<field type="double" length="128">9999</field>
</data>
</struct>
</array>
</data>
<data name="STATUS">
<field type="string" length="1">S</field>
</data>
</body>
</service>
